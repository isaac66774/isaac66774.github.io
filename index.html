<!DOCTYPE html>
<html>
<head>
  <title>Isaac's Skins Gallery</title>

  <!-- ZIP library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

  <script>
  document.addEventListener("contextmenu", e => e.preventDefault());
  document.addEventListener("dragstart", e => e.preventDefault());
  </script>
  
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#111111">

  <style>
    :root {
      --bg: #111;
      --text: #fff;
      --card: #1e1e1e;
    }

    body.light {
      --bg: #f4f4f4;
      --text: #000;
      --card: #fff;
    }

    body {
      margin: 0;
      padding: 20px;
      font-family: Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      transition: 0.3s;
    }

    h1 { text-align: center; }
    .top-bar {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    button {
      padding: 8px 14px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background: #007bff;
      color: white;
    }

    /* Pinterest layout */
    .gallery {
      column-count: 4;
      column-gap: 15px;
    }

    .item {
      break-inside: avoid;
      margin-bottom: 15px;
      position: relative;
    }

    .item img {
      width: 100%;
      border-radius: 10px;
      display: block;
      user-select: none;
      pointer-events: none;
    }


    /* Download icon */
    .download {
      position: absolute;
      bottom: 8px;
      right: 8px;
      background: rgba(0,0,0,0.7);
      color: #fff;
      padding: 6px;
      border-radius: 50%;
      font-size: 14px;
      text-decoration: none;
    }

    /* Watermark */
    .watermark {
      position: absolute;
      bottom: 8px;
      left: 10px;
      font-size: 12px;
      opacity: 0.6;
    }

    @media (max-width: 1000px) { .gallery { column-count: 3; } }
    @media (max-width: 700px) { .gallery { column-count: 2; } }
    @media (max-width: 450px) { .gallery { column-count: 1; } }

    .hidden { display: none; }

.jump-btn {
  position: fixed;
  bottom: 20px;
  right: 20px;
  padding: 10px 14px;
  border-radius: 50px;
  border: none;
  cursor: pointer;
  background: #ff4081;
  color: white;
  font-size: 14px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  z-index: 999;
}

  </style>
</head>

<body>

<button class="jump-btn" onclick="goToQuotes()">ğŸ‘€ Watch out</button>

<audio id="bgMusic" loop>
  <source src="music/bg.mp3" type="audio/mpeg">
</audio>

<h1> liviiii.fr ğŸ‚</h1>

<div class="top-bar">
  <button onclick="toggleMode()">ğŸŒ“ Dark / Light</button>
  <button onclick="downloadZip()">ğŸ“¦ Download All (ZIP)</button>
  <button onclick="unlock()">ğŸ” Hidden Gallery</button>
</div>

<h2>ğŸ”¥ Skins Hand Picked</h2>

<div class="gallery" id="public"></div>

<h2 id="quotesSection">ğŸ’¬  Quotes MMD</h2>

<div class="gallery" id="quotes"></div>

<h2 class="hidden" id="hiddenTitle">ğŸ•¶ Private Album</h2>

<div class="gallery hidden" id="private">
  <div class="item">
    <img src="photos/private1.jpg">
    <span class="watermark">ğ“˜ğ“”</span>
    <a class="download" href="photos/private1.jpg" download>â¬‡</a>
  </div>
</div>

<script>
  const PUBLIC_COUNT = 67;
  const QUOTES_COUNT = 31;

  const music = document.getElementById("bgMusic");

  document.body.addEventListener("click", () => {
    if (music.paused) {
      music.play().catch(() => {});
    }
  }, { once: true });

  function toggleMode() {
    document.body.classList.toggle("light");
  }

  function unlock() {
    const pass = prompt("Enter password:");
    if (pass === "1234") {
      document.getElementById("private").classList.remove("hidden");
      document.getElementById("hiddenTitle").classList.remove("hidden");
      alert("Unlocked ğŸ”“");
    } else {
      alert("Sorry Bruhh âŒ");
    }
  }

  async function downloadZip() {
  const zip = new JSZip();
  const images = [];

  for (let i = 1; i <= PUBLIC_COUNT; i++) {
    images.push(`photos/photo${i}.jpg`);
  }

  for (let img of images) {
    const response = await fetch(img);
    if (!response.ok) continue; 

    const blob = await response.blob();
    zip.file(img.split("/")[1], blob);
  }

  const content = await zip.generateAsync({ type: "blob" });
  const a = document.createElement("a");
  a.href = URL.createObjectURL(content);
  a.download = "photos.zip";
  a.click();
}

function loadGallery(folder, count, prefix, targetId) {
  const container = document.getElementById(targetId);

  for (let i = 1; i <= count; i++) {
    container.innerHTML += `
      <div class="item">
        <img src="${folder}/${prefix}${i}.jpg"
             loading="lazy"
             onerror="this.parentElement.remove()">
        <span class="watermark">ğŸ„´ ğ“²ğ“¼ğ“ªğ“ªğ“¬</span>
        <a class="download" href="${folder}/${prefix}${i}.jpg" download>â¬‡</a>
      </div>
    `;
  }
}

 loadGallery("photos", PUBLIC_COUNT, "photo", "public");
 loadGallery("quotes", QUOTES_COUNT, "quote", "quotes");
 
 function goToQuotes() {
  document.getElementById("quotesSection")
    .scrollIntoView({ behavior: "smooth" });
}

 const jumpBtn = document.querySelector(".jump-btn");
 const quotesSection = document.getElementById("quotesSection");

 window.addEventListener("scroll", () => {
  const rect = quotesSection.getBoundingClientRect();
  jumpBtn.style.display = rect.top < window.innerHeight ? "none" : "block";
 });

</script>

</body>
</html>
